<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rusty Degen | Jackpot</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700&family=Titillium+Web:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div class="modal age-verification" id="ageVerificationModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Age Verification</h2>
            </div>
            <div class="modal-body">
                <p>You must be at least 18 years old to use this site.</p>
                <p>By clicking "Agree" you confirm that:</p>
                <ul>
                    <li>You are at least 18 years old</li>
                    <li>You are legally allowed to trade skins from your country</li>
                    <li>You understand and accept the risks associated with skin gambling</li>
                </ul>
                <div class="checkbox-container">
                    <input type="checkbox" id="agreeCheckbox">
                    <label for="agreeCheckbox">I confirm I meet all requirements</label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="agreeButton" disabled>Agree</button>
            </div>
        </div>
    </div>

    <div class="modal deposit-modal" id="depositModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Deposit Items</h2>
                <button class="close-btn" id="closeDepositModal">&times;</button>
            </div>
            <div class="modal-body">
                <div id="inventory-loading" class="loading-indicator" style="display: none;"> <div class="spinner"></div>
                    <p>Loading your inventory...</p>
                </div>
                <div class="inventory-container">
                    <h3>Your Inventory</h3>
                    <div class="inventory-items" id="inventory-items">
                        </div>
                </div>
                <div class="selected-items">
                    <h3>Selected Items</h3>
                    <div class="selected-items-container" id="selectedItems">
                        </div>
                    <div class="total-value">
                        <span>Total Value: </span>
                        <span id="totalValue">$0.00</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary btn-deposit" id="depositButton" disabled>Deposit Items</button> </div>
        </div>
    </div>

    <div class="modal" id="tradeUrlModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Set Your Trade URL</h2>
                <button class="close-btn" id="closeTradeUrlModal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Please enter your Steam Trade URL to complete deposits and receive winnings:</p>
                <div class="form-group">
                    <label for="tradeUrlInput" class="sr-only">Steam Trade URL</label> <input type="text" id="tradeUrlInput" placeholder="https://steamcommunity.com/tradeoffer/new/?partner=...">
                </div>
                <p class="help-text">
                    You can find your trade URL in your
                    <a href="https://steamcommunity.com/my/tradeoffers/privacy" target="_blank" rel="noopener noreferrer">Steam Trade Privacy Settings</a>.
                </p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="saveTradeUrl">Save Trade URL</button>
            </div>
        </div>
    </div>

    <header class="main-header">
        <div class="container">
            <div style="display: flex; align-items: center;">
                <div class="logo">
                    <h1>RUSTY<span>DEGEN</span></h1>
                </div>
                <nav style="margin-left: 15px;">
                    <ul style="list-style: none; display: flex; padding: 0; margin: 0;">
                        <li style="margin-right: 15px;"><a href="#" id="about-link" style="font-weight: 600; font-size: 1rem; color: var(--text-secondary);">ABOUT</a></li>
                        <li><a href="#" id="roadmap-link" style="font-weight: 600; font-size: 1rem; color: var(--text-secondary);">ROADMAP</a></li>
                    </ul>
                </nav>
            </div>
            <nav class="main-nav" style="flex: 1; display: flex; justify-content: center; align-items: center; margin-right: 40px;">
                <ul>
                    <li><a href="#" class="active jackpot-pulse" style="font-size: 1rem; padding: 8px 12px; font-weight: 600; color: var(--primary-color);">JACKPOT</a></li>
                </ul>
            </nav>
            <div style="display: flex; align-items: center;">
                <nav>
                    <ul style="list-style: none; display: flex; padding: 0; margin: 0;">
                        <li style="margin-right: 15px;"><a href="#" id="faq-link" style="font-weight: 600; font-size: 1rem; color: var(--text-secondary);">FAQ</a></li>
                        <li style="margin-right: 15px;"><a href="#" id="fair-link" style="font-weight: 600; font-size: 1rem; color: var(--text-secondary);">PROVABLY FAIR</a></li>
                    </ul>
                </nav>
                <div class="user-controls">
                    <button class="btn btn-login" id="loginButton">
                        <i class="fa-brands fa-steam"></i> Sign in
                    </button>
                    <div class="user-profile" id="userProfile" style="display: none;">
                        <img src="/img/default-avatar.png" alt="User Avatar" class="user-avatar" id="userAvatar">
                        <span class="user-name" id="userName">PlayerName</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="container">

            <div id="home-page">
                <div class="jackpot-section">
                    <div class="jackpot-header" id="jackpotHeader">
                        <div class="jackpot-value">
                            <h2 id="potValue">$0.00</h2>
                            <span class="value-label">CURRENT POT</span>
                        </div>
                        <div class="jackpot-timer">
                            <div class="timer-circle">
                                <svg class="timer-progress" viewBox="0 0 100 100">
                                    <circle class="timer-background" cx="50" cy="50" r="42"></circle> <circle class="timer-foreground" cx="50" cy="50" r="42"></circle> </svg>
                                <div class="timer-text">
                                    <span id="timerValue">120</span>
                                </div>
                            </div>
                            <span class="timer-label">SECONDS LEFT</span>
                        </div>
                        <div class="jackpot-stats">
                           <span class="stat-value" id="participantCount">0/200</span>
                           <span class="stat-label">ITEMS</span>
                        </div>

                        <div class="inline-roulette" id="inlineRoulette">
                            <div class="roulette-container">
                                <div class="roulette-track" id="rouletteTrack">
                                    </div>
                                <div class="roulette-ticker">
                                    <div class="ticker-line"></div>
                                    <div class="ticker-arrow"></div>
                                </div>
                            </div>
                            <div class="winner-info" id="winnerInfo">
                                <div class="winner-header">
                                    <img src="/img/default-avatar.png" alt="Winner Avatar" class="winner-avatar" id="winnerAvatar">
                                    <h3 id="winnerName">WINNER NAME</h3>
                                </div>
                                <div class="winner-details">
                                    <p>Deposited: <span id="winnerDeposit">$0.00</span></p>
                                    <p>Chance: <span id="winnerChance">0.00%</span></p>
                                    <p class="congrats">Congratulations!</p>
                                </div>
                                <div class="confetti-container" id="confettiContainer"></div>
                            </div>
                            <audio id="spinSound" src="/audio/spin-sound.mp3" preload="auto"></audio>
                            <button class="btn btn-primary return-btn" id="returnToJackpot" style="display: none;">Return</button>
                        </div>
                    </div>

                    
                    
                    <!-- Update this section in index.html -->
                    <div class="deposit-button-container" id="depositBtnContainer">
                    <button class="btn btn-deposit" id="showDepositModal">DEPOSIT SKINS</button>
                    <div style="display: flex; gap: 10px; margin-top: 10px;">
                    <button class="btn btn-secondary" id="testSpinButton" style="display: inline-block; width: auto;">Test Roulette</button>
                    <button class="btn btn-secondary" id="testDepositButton" style="display: inline-block; width: auto;">Test Deposit</button>
                        </div>
                    </div>


                    <!-- MODIFIED: Current Items Section to match Rustypot's layout -->
                    <div class="current-items-section" id="currentItems">
                        <h3 class="section-title">CURRENT ITEMS</h3>
                        
                        <!-- Modified container for items with Rustypot-style layout -->
                        <div class="rustypot-items-container" id="itemsContainer">
                            <div class="empty-pot-message" id="emptyPotMessage">
                                <p>No items in the current pot. Be the first to deposit!</p>
                            </div>
                            <!-- Items will be added here by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="about-page" style="display: none;">
                <div class="content-card">
                    <h1>About Rusty Degen</h1>

                    <div style="margin-bottom: 30px;">
                        <h2>The Developer Behind Rusty Degen</h2>
                        <p style="margin-bottom: 15px;">Hello! I'm a passionate Rust player with over 7,000 hours in the game. What started as a hobby quickly turned into an obsession, and I've experienced every aspect of the Rust ecosystem - from intense PvP battles to trading rare skins.</p>
                        
                        <p style="margin-bottom: 15px;">As a computer science student, I wanted to combine my two passions: programming and Rust. Rusty Degen is the result of this combination - a solo project developed from the ground up as part of my advanced computer science coursework.</p>
                        
                        <p style="margin-bottom: 15px;">Unlike many gambling platforms that are run by large teams with significant backing, Rusty Degen is entirely developed, maintained, and operated by a single person - me. This project has been an incredible learning experience, allowing me to apply theoretical knowledge to a real-world application while creating something for a community I deeply care about.</p>
                    </div>

                    <div style="margin-bottom: 30px;">
                        <h2>My Journey</h2>
                        <p style="margin-bottom: 15px;">My journey with Rust began in 2018, and I quickly fell in love with the game's unforgiving nature and vibrant community. As I accumulated thousands of hours in-game, I also became fascinated with the skin economy that had developed around it.</p>
                        
                        <p style="margin-bottom: 15px;">When it came time to choose a project for my advanced computer science studies, I knew I wanted to create something that would challenge me technically while connecting to something I was passionate about. Building a provably fair jackpot system seemed like the perfect challenge - it would require implementing secure cryptographic systems, real-time multiplayer functionality, integration with Steam's API, and creating an engaging user experience.</p>
                        
                        <p style="margin-bottom: 15px;">Every aspect of Rusty Degen - from the backend infrastructure to the frontend animations - has been meticulously crafted by me. This solo development approach means updates might come a bit slower than on larger platforms, but it also ensures that every feature is implemented with care and attention to detail.</p>
                    </div>

                    <div style="margin-bottom: 30px;">
                        <h2>Community Focus</h2>
                        <p style="margin-bottom: 15px;">Being a Rust player myself, I've designed Rusty Degen with the community in mind. I understand the concerns players have about fairness and transparency in skin gambling, which is why I've made the provably fair system a central feature of the platform.</p>
                        
                        <p style="margin-bottom: 15px;">I'm always open to feedback and suggestions from the community. As both the developer and a fellow player, I want to create the kind of platform that I would want to use myself - one that's fair, transparent, and fun.</p>
                        
                        <p>Thank you for being part of this journey. Whether you're here to try your luck in the jackpot or just checking out what a solo developer can build, I appreciate your support!</p>
                    </div>
                </div>
            </div>
            
            <div id="roadmap-page" style="display: none;">
                <div class="content-card">
                    <h1>Roadmap</h1>

                    <div style="margin-bottom: 30px;">
                        <p style="margin-bottom: 20px;">As a solo developer passionate about both Rust and web development, I have ambitious plans for the future of Rusty Degen. This roadmap outlines the features and improvements I'm currently working on and planning to implement in the coming months.</p>
                    </div>

                    <div style="margin-bottom: 30px;">
                        <h2>Live Chat System</h2>
                        <p style="margin-bottom: 15px;">A real-time chat system will be implemented to allow players to interact with each other during jackpot rounds. This feature will help build a stronger community around Rusty Degen and make the gambling experience more social and engaging.</p>
                        
                        <h3 style="margin-top: 15px; margin-bottom: 10px;">Planned Features:</h3>
                        <ul style="margin-left: 20px; margin-bottom: 15px;">
                            <li>Real-time messaging with minimal latency</li>
                            <li>User avatars and Steam profile integration</li>
                            <li>Basic moderation tools to maintain a friendly environment</li>
                            <li>Emoji support and basic formatting options</li>
                        </ul>
                        
                        <p style="margin-bottom: 15px;"><strong>Estimated Completion:</strong> Q2 2023</p>
                    </div>

                    <div style="margin-bottom: 30px;">
                        <h2>Coinflip Mode</h2>
                        <p style="margin-bottom: 15px;">In addition to the current jackpot system, a coinflip mode will be added to provide a different gambling experience. This mode will allow players to create or join 1v1 games with a 50/50 chance of winning.</p>
                        
                        <h3 style="margin-top: 15px; margin-bottom: 10px;">Planned Features:</h3>
                        <ul style="margin-left: 20px; margin-bottom: 15px;">
                            <li>Create coinflip games with selected skins</li>
                            <li>Join existing games with equivalent value</li>
                            <li>Animated coin flip with sound effects</li>
                            <li>History of past coinflip games</li>
                            <li>Same provably fair system as jackpot</li>
                        </ul>
                        
                        <p style="margin-bottom: 15px;"><strong>Estimated Completion:</strong> Q3 2023</p>
                    </div>

                    <div style="margin-bottom: 30px;">
                        <h2>User Profiles and Statistics</h2>
                        <p style="margin-bottom: 15px;">A comprehensive profile system will be implemented to allow players to track their gambling history and statistics. This feature will provide transparency and help players understand their gambling patterns.</p>
                        
                        <h3 style="margin-top: 15px; margin-bottom: 10px;">Planned Features:</h3>
                        <ul style="margin-left: 20px; margin-bottom: 15px;">
                            <li>Detailed gambling history (jackpot and coinflip)</li>
                            <li>Win/loss statistics and graphs</li>
                            <li>Total value won/lost over time</li>
                            <li>Biggest wins and losses</li>
                            <li>Achievement system for milestones</li>
                        </ul>
                        
                        <p style="margin-bottom: 15px;"><strong>Estimated Completion:</strong> Q4 2023</p>
                    </div>

                    <div style="margin-bottom: 30px;">
                        <h2>Mobile Responsiveness</h2>
                        <p style="margin-bottom: 15px;">While the current site is usable on mobile devices, a complete overhaul of the responsive design will be implemented to provide a better experience on smartphones and tablets. This will allow players to check their games and participate in the community while on the go.</p>
                        
                        <h3 style="margin-top: 15px; margin-bottom: 10px;">Planned Improvements:</h3>
                        <ul style="margin-left: 20px; margin-bottom: 15px;">
                            <li>Optimized layouts for various screen sizes</li>
                            <li>Touch-friendly controls and interfaces</li>
                            <li>Improved performance on mobile devices</li>
                            <li>Push notifications for game results (optional)</li>
                        </ul>
                        
                        <p style="margin-bottom: 15px;"><strong>Estimated Completion:</strong> Q1 2024</p>
                    </div>

                    <div style="margin-bottom: 30px;">
                        <h2>Referral System</h2>
                        <p style="margin-bottom: 15px;">A referral system will be implemented to reward players who bring new users to the platform. This will help grow the community while giving back to active members who promote Rusty Degen.</p>
                        
                        <h3 style="margin-top: 15px; margin-bottom: 10px;">Planned Features:</h3>
                        <ul style="margin-left: 20px; margin-bottom: 15px;">
                            <li>Custom referral codes for each user</li>
                            <li>Commission on referred users' house fees</li>
                            <li>Referral statistics and tracking</li>
                            <li>Special rewards for top referrers</li>
                        </ul>
                        
                        <p style="margin-bottom: 15px;"><strong>Estimated Completion:</strong> Q2 2024</p>
                    </div>

                    <div>
                        <h2>Long-term Vision</h2>
                        <p style="margin-bottom: 15px;">Beyond these specific features, my long-term vision for Rusty Degen is to create the most transparent, fair, and enjoyable Rust gambling platform available. I'm committed to continuous improvement based on community feedback and technological advancements.</p>
                        
                        <p style="margin-bottom: 15px;">As a solo developer, I prioritize quality over quantity and sustainable growth over rapid expansion. This means each feature will be thoroughly tested and refined before moving on to the next one.</p>
                        
                        <p>Thank you for your support and patience as Rusty Degen evolves. Your feedback is invaluable in shaping the future of this platform!</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer and scripts remain unchanged -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="/js/main.js"></script>
</body>
</html>
